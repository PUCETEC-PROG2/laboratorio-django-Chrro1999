{% extends "base.html" %}
{% load static %}
{% block content %}
<p>Has elegido el pokemon: <strong>{{ pokemon.name | capfirst }}</strong></p>
{% if pokemon.picture %}
    <div class="mb-3 text-center">
        <img src="{{ pokemon.picture.url }}" alt="{{ pokemon.name }}" class="img-fluid" style="max-height:300px;">
    </div>
{% else %}
    <div class="mb-3 text-center">
        <!-- Fallback to project logo if the pokemon has no picture -->
        <img src="{% static 'pokedex-logo.png' %}" alt="No image" class="img-fluid" style="max-height:200px;">
    </div>
{% endif %}
<h3>Características:</h3>
<ul>
    <li>Nombre: {{pokemon.name}}</li>
    <li>Tipo: {{pokemon.type}}</li>
    <li>Peso: {{pokemon.weight}}</li>
    <li>Altura: {{pokemon.height}}</li>
</ul>

<a href="{% url 'index' %}" class="btn btn-secondary">Volver al inicio</a>
<a href="{% url 'edit_pokemon' pokemon.id %}" class="btn btn-warning">Editar</a>

{% if confirm_delete %}
    <div class="alert alert-danger mt-3">
        <p>¿Estás seguro que quieres eliminar a <strong>{{ pokemon.name }}</strong>?</p>
        <form method="post" action="{{ delete_url }}">
            {% csrf_token %}
            <button type="submit" class="btn btn-danger">Sí, eliminar</button>
            <a href="{% url 'pokemon' pokemon.id %}" class="btn btn-secondary">Cancelar</a>
        </form>
    </div>
{% else %}
    <form method="post" action="{% url 'delete_pokemon' pokemon.id %}" style="display:inline;">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger" onclick="return confirm('¿Eliminar este Pokémon? Esta acción no se puede deshacer.');">Eliminar</button>
    </form>
{% endif %}
{% endblock content %}